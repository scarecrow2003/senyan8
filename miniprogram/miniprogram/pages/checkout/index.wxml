<navigation-bar title="æ”¯ä»˜" back="{{true}}}" color="black" background="#FFF"></navigation-bar>
<view class="checkout-page">
  <block wx:if="{{cart.length > 0}}">
    <view class="summary">
      <!-- Cart items here like before -->
      <block wx:for="{{cart}}" wx:key="id">
        <view class="item horizontal">
          <text>{{item.name}}</text>
          <text>x{{item.quantity}}</text>
          <text>S${{item.price * item.quantity}}</text>
        </view>
      </block>

      <view class="total">
        <text>æ€»ä»·: S${{totalPrice}}</text>
      </view>
    </view>

    <view class="paynow-section">
      <text class="qr-title">è¯·ç”¨PayNowæ‰«ç æ”¯ä»˜</text>
      <view>
        <canvas canvas-id="paynowQrcode" class="qr-code"></canvas>
      </view>
      <text class="qr-note">è¯·ç”¨æ‚¨çš„é“¶è¡ŒAppæ‰«ç æ”¯ä»˜</text>
      <block wx:if="{{qrcodeSaved}}">
        <button class="confirm-btn" bindtap="confirmPayment">æˆ‘å·²æ”¯ä»˜</button>
      </block>
      <block wx:else>
        <button class="save-btn" bindtap="saveQrcode">ç‚¹å‡»ä¿å­˜äºŒç»´ç åˆ°æ‰‹æœº</button>
      </block>
    </view>
  </block>

  <block wx:else>
    <view class="empty">Cart is empty. Please add some flowers ğŸŒ¸</view>
  </block>
</view>